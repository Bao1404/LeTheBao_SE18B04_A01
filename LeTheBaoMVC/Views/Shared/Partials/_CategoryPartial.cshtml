
@*
    For more information on enabling MVC for empty projects, visit http://go.microsoft.com/fwlink/?LinkID=397860
*@
<div class="table-responsive">

        <tbody id="categoriesTableBody">
            <!-- Categories will be loaded here -->
            @foreach (var category in ViewBag.ListCategory)
            {
                <tr>
                    <td>@category.CategoryId</td>
                    <td><strong>@category.CategoryName</strong></td>
                    <td>@category.CategoryDesciption</td>
                    <td>
                        <button class="btn btn-sm btn-outline-primary me-1" data-bs-toggle="modal" data-bs-target="#updateCategoryModal-@category.CategoryId">
                            <i class="bi bi-pencil"></i>
                        </button>
                        <button class="btn btn-sm btn-outline-danger" data-bs-toggle="modal" data-bs-target="#deleteCategoryModal-@category.CategoryId">
                            <i class="bi bi-trash"></i>
                        </button>
                    </td>
                </tr>
                <!--Update Category Modal -->
                <div class="modal fade" id="updateCategoryModal-@category.CategoryId" tabindex="-1">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header" style="background-color: #ff6b35">
                                <h5 class="modal-title" id="categoryModalTitle">Update Category</h5>
                                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                            </div>
                            <div class="modal-body">
                                <form id="categoryForm" action="/Category/Update" method="POST">
                                    <input type="hidden" id="categoryId" value="@category.CategoryId" name="categoryId">
                                    <div class="mb-3">
                                        <label for="categoryName" class="form-label">Category Name</label>
                                        <input type="text" class="form-control" name="categoryName" value="@category.CategoryName" required>
                                    </div>
                                    <div class="mb-3">
                                        <label for="categoryDescription" class="form-label">Description</label>
                                        <textarea class="form-control" name="categoryDescription" rows="3">@category.CategoryDesciption</textarea>
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                                        <button type="submit" class="btn btn-primary" style="background: #ff6b35; border: 1px solid #ff6b35">Save Category</button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
                <!--Delete Category Modal -->
                <div class="modal fade" id="deleteCategoryModal-@category.CategoryId" tabindex="-1">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header" style="background-color: #ff6b35">
                                <h5 class="modal-title" id="categoryModalTitle">Delete Category</h5>
                                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                            </div>
                            <div class="modal-body">
                                <h4 class="text-danger">Confirm Delete ?</h4>
                                <form id="categoryForm" action="/Category/Delete" method="POST">
                                    <input type="hidden" id="categoryId" value="@category.CategoryId" name="categoryId">
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                                        <button type="submit" class="btn btn-primary" style="background: #ff6b35; border: 1px solid #ff6b35">Delete Category</button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            }
        </tbody>
</div>