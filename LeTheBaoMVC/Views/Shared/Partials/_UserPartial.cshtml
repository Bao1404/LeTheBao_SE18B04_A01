
@*
    For more information on enabling MVC for empty projects, visit http://go.microsoft.com/fwlink/?LinkID=397860
*@
<div class="table-responsive">

    <tbody id="userTableBody">
        <!-- Categories will be loaded here -->
        @foreach (var account in ViewBag.AccountList)
        {
            <tr>
                <td>@account.AccountId</td>
                <td>@account.AccountName</td>
                <td>@account.AccountEmail</td>
                <td>@(account.AccountRole == 2 ? "Staff" : "User")</td>
                <td>
                    <button class="btn btn-sm btn-outline-primary me-1" data-bs-toggle="modal" data-bs-target="#updateUserModal-@account.AccountId">
                        <i class="bi bi-pencil"></i>
                    </button>
                </td>
            </tr>
            <!--Update Role Modal -->
            <div class="modal fade" id="updateUserModal-@account.AccountId" tabindex="-1">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header" style="background-color: #ff6b35">
                            <h5 class="modal-title" id="acoountModalTitle">Change Role</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                        </div>
                        <div class="modal-body">
                            <form id="roleForm" action="/User/Role" method="POST">
                                <input type="hidden" id="accountId" value="@account.AccountId" name="accountId">
                                <div class="mb-3">
                                    <label for="accountRole" class="form-label">@(account.AccountRole == 2 ? "Staff" : "User")</label>
                                    <select class="form-select" name="role">
                                        <option value="1">User</option>
                                        <option value="2">Staff</option>
                                    </select>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                                    <button type="submit" class="btn btn-primary" style="background: #ff6b35; border: 1px solid #ff6b35">Save Change</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        }
    </tbody>
</div>